!function(e){var t={};function r(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(i,a,function(t){return e[t]}.bind(null,a));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=658)}({2:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.undoManager=void 0,t.showLoading=function(){var e=window._server+"/res/ureport-asserts/icons/loading.gif",t=$(window).height()/2,r=$(window).width()/2,i=$('<div class="ureport-loading-cover" style="position: absolute;left: 0px;top: 0px;width:'+2*r+"px;height:"+2*t+'px;z-index: 1199;background:rgba(222,222,222,.5)"></div>');$(document.body).append(i);var a=$('<div class="ureport-loading" style="text-align: center;position: absolute;z-index: 1120;left: '+(r-35)+"px;top: "+(t-35)+'px;"><img src="'+e+'">\n    <div style="margin-top: 5px">打印数据加载中...</div></div>');$(document.body).append(a)},t.hideLoading=function(){$(".ureport-loading-cover").remove(),$(".ureport-loading").remove()},t.resetTableData=function(e){for(var t=e.countCols(),r=e.countRows(),i=e.context,a=[],o=0;o<r;o++){for(var n=[],d=0;d<t;d++){if(e.getCell(o,d)){var l=i.getCell(o,d);if(l){var p=l.value.type,c=l.value;if("dataset"===p){var s=c.datasetName+"."+c.aggregate+"(",u=c.property;u.length>13?s+=u.substring(0,10)+"..)":s+=u+")",n.push(s)}else if("expression"===p){var f=c.value||"";f.length>16&&(f=f.substring(0,13)+"..."),n.push(f)}else n.push(c.value||"")}else n.push("")}else n.push("")}a.push(n)}e.loadData(a)},t.buildNewCellDef=function(e,t){return{rowNumber:e,columnNumber:t,expand:"None",cellStyle:{fontSize:9,forecolor:"0,0,0",fontFamily:"宋体",align:"center",valign:"middle"},value:{type:"simple",value:""}}},t.tableToXml=function(e){for(var t=e.hot,r=t.countRows(),i=t.countCols(),a='<?xml version="1.0" encoding="UTF-8"?><ureport>',o="",u="",f=e.rowHeaders,h=0;h<r;h++){var m=t.getRowHeight(h)||16;m=s(m);var v=null,g=!0,b=!1,y=void 0;try{for(var w,k=f[Symbol.iterator]();!(g=(w=k.next()).done);g=!0){var x=w.value;if(x.rowNumber===h){v=x.band;break}}}catch(e){b=!0,y=e}finally{try{!g&&k.return&&k.return()}finally{if(b)throw y}}o+=v?'<row row-number="'+(h+1)+'" height="'+m+'" band="'+v+'"/>':'<row row-number="'+(h+1)+'" height="'+m+'"/>'}for(var _=0;_<i;_++){var P=t.getColWidth(_)||30;P=s(P),u+='<column col-number="'+(_+1)+'" width="'+P+'"/>'}for(var S="",M=[],T=0;T<r;T++)for(var $=0;$<i;$++)if(!(M.indexOf(T+","+$)>-1)){var C=e.getCell(T,$);if(C){var D=e.getCellName(T,$);S+='<cell expand="'+C.expand+'" name="'+D+'" row="'+(T+1)+'" col="'+($+1)+'"',C.leftParentCellName&&""!==C.leftParentCellName&&(S+=' left-cell="'+C.leftParentCellName+'"'),C.topParentCellName&&""!==C.topParentCellName&&(S+=' top-cell="'+C.topParentCellName+'"'),C.fillBlankRows&&(S+=' fill-blank-rows="'+C.fillBlankRows+'"',C.multiple&&(S+=' multiple="'+C.multiple+'"'));for(var A=d(t,T,$),E=A.rowspan,L=A.colspan,z=T+E-1,I=$,B=$+L-1,N=T;N<=z;N++)for(var j=I;j<=B;j++)M.push(N+","+j);E>1&&(S+=' row-span="'+E+'"'),L>1&&(S+=' col-span="'+L+'"'),C.linkUrl&&""!==C.linkUrl&&(S+=' link-url="'+C.linkUrl+'"'),C.linkTargetWindow&&""!==C.linkTargetWindow&&(S+=' link-target-window="'+C.linkTargetWindow+'"'),S+=">";var R=C.cellStyle;if(S+=p(R),C.linkParameters&&C.linkParameters.length>0){var U=!0,O=!1,F=void 0;try{for(var q,W=C.linkParameters[Symbol.iterator]();!(U=(q=W.next()).done);U=!0){var H=q.value;S+='<link-parameter name="'+H.name+'">',S+="<value><![CDATA["+H.value+"]]></value>",S+="</link-parameter>"}}catch(e){O=!0,F=e}finally{try{!U&&W.return&&W.return()}finally{if(O)throw F}}}var V=C.value;if("dataset"===V.type){var X=null;if(V.datasetName||(X=D+"单元格数据集属性不能为空！"),X||V.property||(X=D+"单元格属性不能为空！"),X||V.aggregate||(X=D+"单元格聚合方式属性不能为空！"),X)throw(0,n.alert)(X),X;var G=V.mappingType||"simple";if(S+='<dataset-value dataset-name="'+c(V.datasetName)+'" aggregate="'+V.aggregate+'" property="'+V.property+'" order="'+V.order+'" mapping-type="'+G+'"',"dataset"===G&&(S+=' mapping-dataset="'+V.mappingDataset+'" mapping-key-property="'+V.mappingKeyProperty+'" mapping-value-property="'+V.mappingValueProperty+'"'),S+=">",S+=l(V.conditions),"customgroup"===V.aggregate){var J=V.groupItems,K=!0,Q=!1,Y=void 0;try{for(var Z,ee=J[Symbol.iterator]();!(K=(Z=ee.next()).done);K=!0){var te=Z.value;S+='<group-item name="'+te.name+'">';var re=!0,ie=!1,ae=void 0;try{for(var oe,ne=te.conditions[Symbol.iterator]();!(re=(oe=ne.next()).done);re=!0){var de=oe.value;S+='<condition property="'+de.left+'" op="'+c(de.operation||de.op)+'" id="'+de.id+'"',de.join?S+=' join="'+de.join+'">':S+=">",S+="<value><![CDATA["+de.right+"]]></value>",S+="</condition>"}}catch(e){ie=!0,ae=e}finally{try{!re&&ne.return&&ne.return()}finally{if(ie)throw ae}}S+="</group-item>"}}catch(e){Q=!0,Y=e}finally{try{!K&&ee.return&&ee.return()}finally{if(Q)throw Y}}}if("simple"===G){var le=V.mappingItems;if(le&&le.length>0){var pe=!0,ce=!1,se=void 0;try{for(var ue,fe=le[Symbol.iterator]();!(pe=(ue=fe.next()).done);pe=!0){var he=ue.value;S+='<mapping-item value="'+c(he.value)+'" label="'+c(he.label)+'"/>'}}catch(e){ce=!0,se=e}finally{try{!pe&&fe.return&&fe.return()}finally{if(ce)throw se}}}}S+="</dataset-value>"}else if("expression"===V.type){if(!V.value||""===V.value){var me=D+"单元格表达式不能为空";throw(0,n.alert)(me),me}S+="<expression-value>",S+="<![CDATA["+V.value+"]]>",S+="</expression-value>"}else if("simple"===V.type)S+="<simple-value>",S+="<![CDATA["+(V.value||"")+"]]>",S+="</simple-value>";else if("image"===V.type)S+='<image-value source="'+V.source+'"',V.width&&(S+=' width="'+V.width+'"'),V.height&&(S+=' height="'+V.height+'"'),S+=">",S+="<text>",S+="<![CDATA["+V.value+"]]>",S+="</text>",S+="</image-value>";else if("zxing"===V.type)S+='<zxing-value source="'+V.source+'" category="'+V.category+'" width="'+V.width+'" height="'+V.height+'"',V.format&&(S+=' format="'+V.format+'"'),S+=">",S+="<text>",S+="<![CDATA["+V.value+"]]>",S+="</text>",S+="</zxing-value>";else if("slash"===V.type){S+="<slash-value>";var ve=V.slashes,ge=!0,be=!1,ye=void 0;try{for(var we,ke=ve[Symbol.iterator]();!(ge=(we=ke.next()).done);ge=!0){var xe=we.value;S+='<slash text="'+xe.text+'" x="'+xe.x+'" y="'+xe.y+'" degree="'+xe.degree+'"/>'}}catch(e){be=!0,ye=e}finally{try{!ge&&ke.return&&ke.return()}finally{if(be)throw ye}}S+="<base64-data>",S+="<![CDATA["+V.base64Data+"]]>",S+="</base64-data>",S+="</slash-value>"}else if("chart"===V.type){S+="<chart-value>";var _e=V.chart,Pe=_e.dataset;S+='<dataset dataset-name="'+Pe.datasetName+'" type="'+Pe.type+'"',Pe.categoryProperty&&(S+=' category-property="'+Pe.categoryProperty+'"'),Pe.seriesProperty&&(S+=' series-property="'+Pe.seriesProperty+'"'),Pe.seriesType&&(S+=' series-type="'+Pe.seriesType+'"'),Pe.seriesText&&(S+=' series-text="'+Pe.seriesText+'"'),Pe.valueProperty&&(S+=' value-property="'+Pe.valueProperty+'"'),Pe.rProperty&&(S+=' r-property="'+Pe.rProperty+'"'),Pe.xProperty&&(S+=' x-property="'+Pe.xProperty+'"'),Pe.yProperty&&(S+=' y-property="'+Pe.yProperty+'"'),Pe.collectType&&(S+=' collect-type="'+Pe.collectType+'"'),S+="/>";var Se=_e.xaxes;if(Se){S+="<xaxes",Se.rotation&&(S+=' rotation="'+Se.rotation+'"'),S+=">";var Me=Se.scaleLabel;Me&&(S+='<scale-label display="'+Me.display+'"',Me.labelString&&(S+=' label-string="'+Me.labelString+'"'),S+="/>"),S+="</xaxes>"}var Te=_e.yaxes;if(Te){S+="<yaxes",Te.rotation&&(S+=' rotation="'+Te.rotation+'"'),S+=">";var $e=Te.scaleLabel;$e&&(S+='<scale-label display="'+$e.display+'"',$e.labelString&&(S+=' label-string="'+$e.labelString+'"'),S+="/>"),S+="</yaxes>"}var Ce=_e.options;if(Ce){var De=!0,Ae=!1,Ee=void 0;try{for(var Le,ze=Ce[Symbol.iterator]();!(De=(Le=ze.next()).done);De=!0){var Ie=Le.value;S+='<option type="'+Ie.type+'"',Ie.position&&(S+=' position="'+Ie.position+'"'),void 0!==Ie.display&&null!==Ie.display&&(S+=' display="'+Ie.display+'"'),Ie.duration&&(S+=' duration="'+Ie.duration+'"'),Ie.easing&&(S+=' easing="'+Ie.easing+'"'),Ie.text&&(S+=' text="'+Ie.text+'"'),S+="/>"}}catch(e){Ae=!0,Ee=e}finally{try{!De&&ze.return&&ze.return()}finally{if(Ae)throw Ee}}}var Be=_e.plugins||[],Ne=!0,je=!1,Re=void 0;try{for(var Ue,Oe=Be[Symbol.iterator]();!(Ne=(Ue=Oe.next()).done);Ne=!0){var Fe=Ue.value;S+='<plugin name="'+Fe.name+'" display="'+Fe.display+'"/>'}}catch(e){je=!0,Re=e}finally{try{!Ne&&Oe.return&&Oe.return()}finally{if(je)throw Re}}S+="</chart-value>"}var qe=C.conditionPropertyItems||[],We=!0,He=!1,Ve=void 0;try{for(var Xe,Ge=qe[Symbol.iterator]();!(We=(Xe=Ge.next()).done);We=!0){var Je=Xe.value;S+='<condition-property-item name="'+Je.name+'"';var Ke=Je.rowHeight;null!=Ke&&-1!==Ke&&(S+=' row-height="'+Ke+'"');var Qe=Je.colWidth;if(null!=Qe&&-1!==Qe&&(S+=' col-width="'+Qe+'"'),Je.newValue&&""!==Je.newValue&&(S+=' new-value="'+Je.newValue+'"'),Je.linkUrl&&""!==Je.linkUrl){S+=' link-url="'+Je.linkUrl+'"';var Ye=Je.linkTargetWindow;Ye&&""!==Ye||(Ye="_self"),S+=' link-target-window="'+Je.linkTargetWindow+'"'}S+=">";var Ze=Je.paging;if(Ze&&(S+='<paging position="'+Ze.position+'" line="'+Ze.line+'"/>'),Je.linkParameters&&Je.linkParameters.length>0){var et=!0,tt=!1,rt=void 0;try{for(var it,at=Je.linkParameters[Symbol.iterator]();!(et=(it=at.next()).done);et=!0){var ot=it.value;S+='<link-parameter name="'+ot.name+'">',S+="<value><![CDATA["+ot.value+"]]></value>",S+="</link-parameter>"}}catch(e){tt=!0,rt=e}finally{try{!et&&at.return&&at.return()}finally{if(tt)throw rt}}}var nt=Je.cellStyle;nt&&(S+=p(nt,!0)),S+=l(Je.conditions),S+="</condition-property-item>"}}catch(e){He=!0,Ve=e}finally{try{!We&&Ge.return&&Ge.return()}finally{if(He)throw Ve}}S+="</cell>"}}a+=S,a+=o,a+=u;var dt=e.reportDef.header;dt&&(dt.left||dt.center||dt.right)&&(a+="<header ",dt.fontFamily&&(a+=' font-family="'+dt.fontFamily+'"'),dt.fontSize&&(a+=' font-size="'+dt.fontSize+'"'),dt.forecolor&&(a+=' forecolor="'+dt.forecolor+'"'),dt.bold&&(a+=' bold="'+dt.bold+'"'),dt.italic&&(a+=' italic="'+dt.italic+'"'),dt.underline&&(a+=' underline="'+dt.underline+'"'),dt.margin&&(a+=' margin="'+dt.margin+'"'),a+=">",dt.left&&(a+="<left><![CDATA["+dt.left+"]]></left>"),dt.center&&(a+="<center><![CDATA["+dt.center+"]]></center>"),dt.right&&(a+="<right><![CDATA["+dt.right+"]]></right>"),a+="</header>");var lt=e.reportDef.footer;lt&&(lt.left||lt.center||lt.right)&&(a+="<footer ",lt.fontFamily&&(a+=' font-family="'+lt.fontFamily+'"'),lt.fontSize&&(a+=' font-size="'+lt.fontSize+'"'),lt.forecolor&&(a+=' forecolor="'+lt.forecolor+'"'),lt.bold&&(a+=' bold="'+lt.bold+'"'),lt.italic&&(a+=' italic="'+lt.italic+'"'),lt.underline&&(a+=' underline="'+lt.underline+'"'),lt.margin&&(a+=' margin="'+lt.margin+'"'),a+=">",lt.left&&(a+="<left><![CDATA["+lt.left+"]]></left>"),lt.center&&(a+="<center><![CDATA["+lt.center+"]]></center>"),lt.right&&(a+="<right><![CDATA["+lt.right+"]]></right>"),a+="</footer>");var pt="",ct=e.reportDef.datasources,st=!0,ut=!1,ft=void 0;try{for(var ht,mt=ct[Symbol.iterator]();!(st=(ht=mt.next()).done);st=!0){var vt=ht.value,gt='<datasource name="'+c(vt.name)+'" type="'+vt.type+'"',bt=vt.type;if("jdbc"===bt){gt+=' username="'+c(vt.username)+'"',gt+=' password="'+c(vt.password)+'"',gt+=' url="'+c(vt.url)+'"',gt+=' driver="'+vt.driver+'"',gt+=">";var yt=!0,wt=!1,kt=void 0;try{for(var xt,_t=vt.datasets[Symbol.iterator]();!(yt=(xt=_t.next()).done);yt=!0){var Pt=xt.value;gt+='<dataset name="'+c(Pt.name)+'" type="sql">',gt+="<sql><![CDATA["+Pt.sql+"]]></sql>";var St=!0,Mt=!1,Tt=void 0;try{for(var $t,Ct=Pt.fields[Symbol.iterator]();!(St=($t=Ct.next()).done);St=!0){var Dt=$t.value;gt+='<field name="'+Dt.name+'"/>'}}catch(e){Mt=!0,Tt=e}finally{try{!St&&Ct.return&&Ct.return()}finally{if(Mt)throw Tt}}var At=!0,Et=!1,Lt=void 0;try{for(var zt,It=Pt.parameters[Symbol.iterator]();!(At=(zt=It.next()).done);At=!0){var Bt=zt.value;gt+='<parameter name="'+c(Bt.name)+'" type="'+Bt.type+'" default-value="'+c(Bt.defaultValue)+'"/>'}}catch(e){Et=!0,Lt=e}finally{try{!At&&It.return&&It.return()}finally{if(Et)throw Lt}}gt+="</dataset>"}}catch(e){wt=!0,kt=e}finally{try{!yt&&_t.return&&_t.return()}finally{if(wt)throw kt}}}else if("spring"===bt){gt+=' bean="'+vt.beanId+'">';var Nt=!0,jt=!1,Rt=void 0;try{for(var Ut,Ot=vt.datasets[Symbol.iterator]();!(Nt=(Ut=Ot.next()).done);Nt=!0){var Ft=Ut.value;gt+='<dataset name="'+c(Ft.name)+'" type="bean" method="'+Ft.method+'" clazz="'+Ft.clazz+'">';var qt=!0,Wt=!1,Ht=void 0;try{for(var Vt,Xt=Ft.fields[Symbol.iterator]();!(qt=(Vt=Xt.next()).done);qt=!0){var Gt=Vt.value;gt+='<field name="'+Gt.name+'"/>'}}catch(e){Wt=!0,Ht=e}finally{try{!qt&&Xt.return&&Xt.return()}finally{if(Wt)throw Ht}}gt+="</dataset>"}}catch(e){jt=!0,Rt=e}finally{try{!Nt&&Ot.return&&Ot.return()}finally{if(jt)throw Rt}}}else if("buildin"===bt){gt+=">";var Jt=!0,Kt=!1,Qt=void 0;try{for(var Yt,Zt=vt.datasets[Symbol.iterator]();!(Jt=(Yt=Zt.next()).done);Jt=!0){var er=Yt.value;gt+='<dataset name="'+c(er.name)+'" type="sql">',gt+="<sql><![CDATA["+er.sql+"]]></sql>";var tr=!0,rr=!1,ir=void 0;try{for(var ar,or=er.fields[Symbol.iterator]();!(tr=(ar=or.next()).done);tr=!0){var nr=ar.value;gt+='<field name="'+nr.name+'"/>'}}catch(e){rr=!0,ir=e}finally{try{!tr&&or.return&&or.return()}finally{if(rr)throw ir}}var dr=!0,lr=!1,pr=void 0;try{for(var cr,sr=er.parameters[Symbol.iterator]();!(dr=(cr=sr.next()).done);dr=!0){var ur=cr.value;gt+='<parameter name="'+ur.name+'" type="'+ur.type+'" default-value="'+ur.defaultValue+'"/>'}}catch(e){lr=!0,pr=e}finally{try{!dr&&sr.return&&sr.return()}finally{if(lr)throw pr}}gt+="</dataset>"}}catch(e){Kt=!0,Qt=e}finally{try{!Jt&&Zt.return&&Zt.return()}finally{if(Kt)throw Qt}}}pt+=gt+="</datasource>"}}catch(e){ut=!0,ft=e}finally{try{!st&&mt.return&&mt.return()}finally{if(ut)throw ft}}a+=pt;var fr=e.reportDef.paper,hr=0;null!==fr.htmlIntervalRefreshValue&&void 0!==fr.htmlIntervalRefreshValue&&(hr=fr.htmlIntervalRefreshValue);a+='<paper type="'+fr.paperType+'" left-margin="'+fr.leftMargin+'" right-margin="'+fr.rightMargin+'"\n    top-margin="'+fr.topMargin+'" bottom-margin="'+fr.bottomMargin+'" paging-mode="'+fr.pagingMode+'" fixrows="'+fr.fixRows+'"\n    width="'+fr.width+'" height="'+fr.height+'" orientation="'+fr.orientation+'" html-report-align="'+fr.htmlReportAlign+'" bg-image="'+(fr.bgImage||"")+'" html-interval-refresh-value="'+hr+'" column-enabled="'+fr.columnEnabled+'"',fr.columnEnabled&&(a+=' column-count="'+fr.columnCount+'" column-margin="'+fr.columnMargin+'"');a+="></paper>",e.reportDef.searchFormXml&&(a+=e.reportDef.searchFormXml);return a+="</ureport>",a=encodeURIComponent(a)},t.encode=c,t.getParameter=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),r=window.location.search.substr(1).match(t);return null!=r?r[2]:null},t.mmToPoint=function(e){var t=2.834646*e;return Math.round(t)},t.pointToMM=function(e){var t=.352778*e;return Math.round(t)},t.pointToPixel=function(e){var t=1.33*e;return Math.round(t)},t.pixelToPoint=s,t.setDirty=function(){$("#__save_btn").removeClass("disabled")},t.resetDirty=function(){$("#__save_btn").addClass("disabled")},t.formatDate=function(e,t){"number"==typeof e&&(e=new Date(e));if("string"==typeof e)return e;var r={"M+":e.getMonth()+1,"d+":e.getDate(),"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in r)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?r[i]:("00"+r[i]).substr((""+r[i]).length)));return t},t.buildPageSizeList=function(){return{A0:{width:841,height:1189},A1:{width:594,height:841},A2:{width:420,height:594},A3:{width:297,height:420},A4:{width:210,height:297},A5:{width:148,height:210},A6:{width:105,height:148},A7:{width:74,height:105},A8:{width:52,height:74},A9:{width:37,height:52},A10:{width:26,height:37},B0:{width:1e3,height:1414},B1:{width:707,height:1e3},B2:{width:500,height:707},B3:{width:353,height:500},B4:{width:250,height:353},B5:{width:176,height:250},B6:{width:125,height:176},B7:{width:88,height:125},B8:{width:62,height:88},B9:{width:44,height:62},B10:{width:31,height:44}}};var i,a=r(48),o=(i=a)&&i.__esModule?i:{default:i},n=r(3);function d(e,t,r){var i=e.getSettings().mergeCells||[],a=!0,o=!1,n=void 0;try{for(var d,l=i[Symbol.iterator]();!(a=(d=l.next()).done);a=!0){var p=d.value;if(p.row===t&&p.col===r)return p}}catch(e){o=!0,n=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw n}}return{rowspan:0,colspan:0}}function l(e){var t="";if(e){var r=e.length,i=!0,a=!1,o=void 0;try{for(var n,d=e[Symbol.iterator]();!(i=(n=d.next()).done);i=!0){var l=n.value;l.type&&"property"!==l.type?(t+='<condition type="'+l.type+'" op="'+c(l.operation)+'" id="'+l.id+'"',l.join&&r>1?t+=' join="'+l.join+'">':t+=">",t+="<left><![CDATA["+l.left+"]]></left>",t+="<right><![CDATA["+l.right+"]]></right>"):(l.left?t+='<condition property="'+l.left+'" op="'+c(l.operation)+'" id="'+l.id+'"':t+='<condition op="'+c(l.operation)+'" id="'+l.id+'"',t+=' type="'+l.type+'"',l.join&&r>1?t+=' join="'+l.join+'">':t+=">",t+="<value><![CDATA["+l.right+"]]></value>"),t+="</condition>"}}catch(e){a=!0,o=e}finally{try{!i&&d.return&&d.return()}finally{if(a)throw o}}}return t}function p(e,t){var r="<cell-style";t&&(r+=' for-condition="true"'),e.fontSize&&""!==e.fontSize&&(r+=' font-size="'+e.fontSize+'"'),e.fontSizeScope&&(r+=' font-size-scope="'+e.fontSizeScope+'"'),e.forecolor&&""!==e.forecolor&&(r+=' forecolor="'+e.forecolor+'"'),e.forecolorScope&&(r+=' forecolor-scope="'+e.forecolorScope+'"'),e.fontFamily&&("0"===e.fontFamily?r+=' font-family=""':r+=' font-family="'+e.fontFamily+'"'),e.fontFamilyScope&&(r+=' font-family-scope="'+e.fontFamilyScope+'"'),e.bgcolor&&""!==e.bgcolor&&(r+=' bgcolor="'+e.bgcolor+'"'),e.bgcolorScope&&(r+=' bgcolor-scope="'+e.bgcolorScope+'"'),e.format&&""!==e.format&&(r+=' format="'+e.format+'"'),void 0!==e.bold&&null!==e.bold&&(r+=' bold="'+e.bold+'"'),e.boldScope&&(r+=' bold-scope="'+e.boldScope+'"'),void 0!==e.italic&&null!==e.italic&&(r+=' italic="'+e.italic+'"'),e.italicScope&&(r+=' italic-scope="'+e.italicScope+'"'),void 0!==e.underline&&null!==e.underline&&(r+=' underline="'+e.underline+'"'),e.underlineScope&&(r+=' underline-scope="'+e.underlineScope+'"'),void 0!==e.wrapCompute&&null!==e.wrapCompute&&(r+=' wrap-compute="'+e.wrapCompute+'"'),e.align&&""!==e.align&&(r+=' align="'+e.align+'"'),e.alignScope&&(r+=' align-scope="'+e.alignScope+'"'),e.valign&&""!==e.valign&&(r+=' valign="'+e.valign+'"'),e.valignScope&&(r+=' valign-scope="'+e.valignScope+'"'),e.lineHeight&&(r+=' line-height="'+e.lineHeight+'"'),r+=">";var i=e.leftBorder;i&&"none"!==i.style&&(r+='<left-border width="'+i.width+'" style="'+i.style+'" color="'+i.color+'"/>');var a=e.rightBorder;a&&"none"!==a.style&&(r+='<right-border width="'+a.width+'" style="'+a.style+'" color="'+a.color+'"/>');var o=e.topBorder;o&&"none"!==o.style&&(r+='<top-border width="'+o.width+'" style="'+o.style+'" color="'+o.color+'"/>');var n=e.bottomBorder;return n&&"none"!==n.style&&(r+='<bottom-border width="'+n.width+'" style="'+n.style+'" color="'+n.color+'"/>'),r+="</cell-style>"}function c(e){return e.replace(/[<>&"]/g,(function(e){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[e]}))}function s(e){var t=.75*e;return Math.round(t)}t.undoManager=new o.default},3:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e,t,r,a){var o=this,n="modal-dialog"+(a?" modal-lg":""),d=$('<div class="modal fade" tabindex="-1" role="dialog" aria-hidden="true"></div>'),l=$('<div class="'+n+'"></div>');d.append(l);var p=$('<div class="modal-content">\n         <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\n               &times;\n            </button>\n            <h4 class="modal-title">\n               '+e+'\n            </h4>\n         </div>\n         <div class="modal-body">\n            '+("string"==typeof t?t:"")+"\n         </div>");"object"===(void 0===t?"undefined":i(t))&&p.find(".modal-body").append(t),l.append(p);var c=$('<div class="modal-footer"></div>');if(p.append(c),r)r.forEach((function(e,t){var r=$('<button type="button" class="btn btn-default">'+e.name+"</button>");r.click(function(t){e.click.call(this),e.holdDialog||d.modal("hide")}.bind(o)),c.append(r)}));else{var s=$('<button type="button" class="btn btn-default" data-dismiss="modal">确定</button>');c.append(s)}return d.on("show.bs.modal",(function(){var e=1050;$(document).find(".modal").each((function(t,r){var i=$(r).css("z-index");i&&""!==i&&!isNaN(i)&&(i=parseInt(i))>e&&(e=i)})),e++,d.css({"z-index":e})})),d}t.alert=function(e){a("消息提示",e).modal("show")},t.confirm=function(e,t){a("确认提示",e,[{name:"确认",click:function(){t.call(this)}}]).modal("show")},t.dialog=function(e,t,r){a(e,t,[{name:"确认",click:function(){r.call(this)}}]).modal("show")},t.showDialog=function(e,t,r,i,o){var n=a(e,t,r,o);if(n.modal("show"),i){var d=!0,l=!1,p=void 0;try{for(var c,s=i[Symbol.iterator]();!(d=(c=s.next()).done);d=!0){var u=c.value;n.on(u.name,u.callback)}}catch(e){l=!0,p=e}finally{try{!d&&s.return&&s.return()}finally{if(l)throw p}}}}},48:function(e,t,r){var i;!function(){"use strict";var a=function(){var e,t,r=[],i=-1,a=0,o=!1;return t=function(e,t){return e&&"function"==typeof e[t]?(o=!0,e[t](),o=!1,this):this},{add:function(t){return o?this:(r.splice(i+1,r.length-i),r.push(t),a&&r.length>a&&(d=0,l=-(a+1),(n=r).splice(d,!l||1+l-d+(!(l<0^d>=0)&&(l<0||-1)*n.length)),n.length),i=r.length-1,e&&e(),this);var n,d,l},setCallback:function(t){e=t},undo:function(){var a=r[i];return a?(t(a,"undo"),i-=1,e&&e(),this):this},redo:function(){var a=r[i+1];return a?(t(a,"redo"),i+=1,e&&e(),this):this},clear:function(){var t=r.length;r=[],i=-1,e&&t>0&&e()},hasUndo:function(){return-1!==i},hasRedo:function(){return i<r.length-1},getCommands:function(){return r},getIndex:function(){return i},setLimit:function(e){a=e}}};void 0===(i=function(){return a}.call(t,r,t,e))||(e.exports=i)}()},658:function(module,exports,__webpack_require__){"use strict";__webpack_require__(69);var _Utils=__webpack_require__(2),_MsgBox=__webpack_require__(3),_PDFPrintDialog=__webpack_require__(659),_PDFPrintDialog2=_interopRequireDefault(_PDFPrintDialog),_preview=__webpack_require__(660),_preview2=_interopRequireDefault(_preview),_preview_en=__webpack_require__(661),_preview_en2=_interopRequireDefault(_preview_en);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function buildPrintStyle(e){var t=(0,_Utils.pointToMM)(e.leftMargin),r=(0,_Utils.pointToMM)(e.topMargin),i=(0,_Utils.pointToMM)(e.rightMargin),a=(0,_Utils.pointToMM)(e.bottomMargin),o=e.paperType,n=o;return"CUSTOM"===o&&(n=(0,_Utils.pointToMM)(e.width)+"mm "+(0,_Utils.pointToMM)(e.height)+"mm"),"\n        @media print {\n            .page-break{\n                display: block;\n                page-break-before: always;\n            }\n        }\n        @page {\n          size: "+n+" "+e.orientation+";\n          margin-left: "+t+"mm;\n          margin-top: "+r+"mm;\n          margin-right:"+i+"mm;\n          margin-bottom:"+a+"mm;\n        }\n    "}function _refreshData(e){var t=buildLocationSearchParameters("_i"),r=window._server+"/preview/loadData"+t,i=window._totalPage;i>0&&(window._currentPageIndex&&(window._currentPageIndex>i&&(window._currentPageIndex=1),r+="&_i="+window._currentPageIndex),$("#pageSelector").val(window._currentPageIndex)),$.ajax({url:r,type:"GET",success:function(t){var r=$("#_ureport_table");r.empty(),window._totalPage=t.totalPageWithCol,r.append(t.content),_buildChartDatas(t.chartDatas),buildPaging(window._currentPageIndex,window._totalPage),window._currentPageIndex&&window._currentPageIndex++,setTimeout((function(){_refreshData(e)}),e)},error:function(t){var r=$("#_ureport_table");r.empty(),t&&t.responseText?r.append("<h3 style='color: #d30e00;'>服务端错误："+t.responseText+"</h3>"):r.append("<h3 style='color: #d30e00;'>加载数据失败</h3>"),setTimeout((function(){_refreshData(e)}),e)}})}jQuery.fn.datetimepicker.dates["zh-CN"]={days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六","星期日"],daysShort:["周日","周一","周二","周三","周四","周五","周六","周日"],daysMin:["日","一","二","三","四","五","六","日"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],today:"今天",suffix:[],meridiem:["上午","下午"]},$(document).ready((function(){var e=window.navigator.language||window.navigator.browserLanguage;e||(e="zh-cn"),e=e.toLowerCase(),window.i18n=_preview2.default,"zh-cn"!==e&&(window.i18n=_preview_en2.default),$(".ureport-print").click((function(){var e=buildLocationSearchParameters(),t=window._server+"/preview/loadPrintPages"+e;(0,_Utils.showLoading)(),$.ajax({url:t,type:"POST",success:function(t){$.get(window._server+"/preview/loadPagePaper"+e,(function(e){(0,_Utils.hideLoading)();var r=t.html,i=window.frames._print_frame,a='<style type="text/css">';a+=buildPrintStyle(e),a+=$("#_ureport_table_style").html(),a+="</style>",$(i.document.body).html(a+r),i.window.focus(),i.window.print()}))},error:function(e){(0,_Utils.hideLoading)(),e&&e.responseText?(0,_MsgBox.alert)("服务端错误："+e.responseText):(0,_MsgBox.alert)("服务端出错！")}})}));var t=!1,r=0,i=new _PDFPrintDialog2.default;$(".ureport-pdf-print").click((function(){var e=buildLocationSearchParameters();$.get(window._server+"/preview/loadPagePaper"+e,(function(e){i.show(e)}))})),$(".ureport-pdf-direct-print").click((function(){(0,_Utils.showLoading)();var e=buildLocationSearchParameters(),i=window._server+"/pdf/show"+e+"&_i="+r++,a=window.frames._print_pdf_frame;t||(t=!0,$("iframe[name='_print_pdf_frame']").on("load",(function(){(0,_Utils.hideLoading)(),a.window.focus(),a.window.print()}))),a.window.focus(),a.location.href=i})),$(".ureport-export-pdf").click((function(){var e=buildLocationSearchParameters(),t=window._server+"/pdf"+e;window.open(t,"_blank")})),$(".ureport-export-word").click((function(){var e=buildLocationSearchParameters(),t=window._server+"/word"+e;window.open(t,"_blank")})),$(".ureport-export-excel").click((function(){var e=buildLocationSearchParameters(),t=window._server+"/excel"+e;window.open(t,"_blank")})),$(".ureport-export-excel-paging").click((function(){var e=buildLocationSearchParameters(),t=window._server+"/excel/paging"+e;window.open(t,"_blank")})),$(".ureport-export-excel-paging-sheet").click((function(){var e=buildLocationSearchParameters(),t=window._server+"/excel/sheet"+e;window.open(t,"_blank")}))})),window._currentPageIndex=null,window._totalPage=null,window.buildLocationSearchParameters=function(e){var t=window.location.search;t.length>0&&(t=t.substring(1,t.length));for(var r={},i=t.split("&"),a=0;a<i.length;a++){var o=i[a];if(""!==o){var n=o.split("="),d=n[0];if(!e||d!==e){var l=n[1];r[d]=l}}}if(window.searchFormParameters)for(var p in window.searchFormParameters)if(p!==e){var c=window.searchFormParameters[p];c&&(r[p]=c)}var s="?";for(var u in r)s+="?"===s?u+"="+r[u]:"&"+u+"="+r[u];return s},window.buildPaging=function(e,t){if(0!==t&&e){window._currentPageIndex||(window._currentPageIndex=e),e=window._currentPageIndex,window._totalPage||(window._totalPage=t);var r=$("#pageSelector");if(r.change((function(){var e=window.buildLocationSearchParameters("_i"),t=window._server+"/preview"+e+"&_i="+$(this).val();window.open(t,"_self")})),r.val(e),1!==t){var i=window.buildLocationSearchParameters("_i"),a=$("#pageLinkContainer");if(a.empty(),e>1){var o=window._server+"/preview"+i+"&_i="+(e-1),n=$('<button type="button" class="btn btn-link btn-sm">上一页</button>');a.append(n),n.click((function(){window.open(o,"_self")}))}if(e<t){var d=window._server+"/preview"+i+"&_i="+(e+1),l=$('<button type="button" class="btn btn-link btn-sm">下一页</button>');a.append(l),l.click((function(){window.open(d,"_self")}))}}}},window._intervalRefresh=function(e,t){if(e){window._totalPage=t;var r=1e3*e;setTimeout((function(){_refreshData(r)}),r)}},window._buildChartDatas=function(chartData){if(chartData){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=chartData[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var d=_step.value,json=d.json;json=JSON.parse(json,(function(k,v){return v.indexOf&&v.indexOf("function")>-1?eval("(function(){return "+v+" })()"):v})),_buildChart(d.id,json)}}catch(e){_didIteratorError=!0,_iteratorError=e}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}},window._buildChart=function(e,t){var r=document.getElementById(e);if(r){var i=t.options;i||(i={},t.options=i);var a=i.animation;a||(a={},i.animation=a),a.onComplete=function(t){var r=t.chart.toBase64Image(),i=window.location.search,a=window._server+"/chart/storeData"+i,o=$("#"+e),n=parseInt(o.css("width")),d=parseInt(o.css("height"));$.ajax({type:"POST",data:{_base64Data:r,_chartId:e,_width:n,_height:d},url:a})};new Chart(r,t)}},window.submitSearchForm=function(e,t){window.searchFormParameters={};var r=!0,i=!1,a=void 0;try{for(var o,n=window.formElements[Symbol.iterator]();!(r=(o=n.next()).done);r=!0){var d=o.value.call(this);for(var l in d){var p=d[l];p=encodeURI(p),p=encodeURI(p),window.searchFormParameters[l]=p}}}catch(e){i=!0,a=e}finally{try{!r&&n.return&&n.return()}finally{if(i)throw a}}var c=window.buildLocationSearchParameters("_i"),s=window._server+"/preview/loadData"+c,u=$("#pageSelector");u.length>0&&(s+="&_i=1"),$.ajax({url:s,type:"POST",success:function(e){window._currentPageIndex=1;var t=$("#_ureport_table");t.empty(),t.append(e.content),_buildChartDatas(e.chartDatas);var r=e.totalPage;if(window._totalPage=r,u.length>0){u.empty();for(var i=1;i<=r;i++)u.append("<option>"+i+"</option>");var a=e.pageIndex||1;u.val(a),$("#totalPageLabel").html(r),buildPaging(a,r)}},error:function(e){e&&e.responseText?(0,_MsgBox.alert)("服务端错误："+e.responseText):(0,_MsgBox.alert)("查询操作失败！")}})}},659:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),a=r(2),o=r(3);var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);$(window).width(),$(window).height();this.paperSizeList=(0,a.buildPageSizeList)(),this.dialog=$('<div class="modal fade" role="dialog" aria-hidden="true" style="z-index: 1110">\n            <div class="modal-dialog modal-lg" style="width: 1250px;">\n                <div class="modal-content">\n                    <div class="modal-header">\n                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\n                            &times;\n                        </button>\n                        <h4 class="modal-title">\n                            '+window.i18n.pdfPrint.title+'\n                        </h4>\n                    </div>\n                    <div class="modal-body" style="padding-top:5px"></div>\n                    <div class="modal-footer">\n                    </div>\n                </div>\n            </div>\n        </div>'),this.body=this.dialog.find(".modal-body");this.dialog.find(".modal-footer");this.initBody()}return i(e,[{key:"initBody",value:function(){var e=$('<fieldset style="width: 100%;height: 60px;font-size: 12px;border: solid 1px #ddd;border-radius: 5px;padding: 1px 8px;">\n        <legend style="font-size: 12px;width: 60px;border-bottom: none;margin-bottom: 0;">'+window.i18n.pdfPrint.setup+"</legend>\n        </fieldset>");this.body.append(e);var t=$('<div class="form-group" style="display: inline-block"><label>'+window.i18n.pdfPrint.paper+"</label></div>");e.append(t),this.pageSelect=$('<select class="form-control" style="display: inline-block;width: 68px;font-size: 12px;padding: 1px;height: 28px;">\n            <option>A0</option>\n            <option>A1</option>\n            <option>A2</option>\n            <option>A3</option>\n            <option>A4</option>\n            <option>A5</option>\n            <option>A6</option>\n            <option>A7</option>\n            <option>A8</option>\n            <option>A9</option>\n            <option>A10</option>\n            <option>B0</option>\n            <option>B1</option>\n            <option>B2</option>\n            <option>B3</option>\n            <option>B4</option>\n            <option>B5</option>\n            <option>B6</option>\n            <option>B7</option>\n            <option>B8</option>\n            <option>B9</option>\n            <option>B10</option>\n            <option value="CUSTOM">'+window.i18n.pdfPrint.custom+"</option>\n        </select>"),t.append(this.pageSelect);var r=this;this.pageSelect.change((function(){var e=$(this).val();if("CUSTOM"===e)r.pageWidthEditor.prop("readonly",!1),r.pageHeightEditor.prop("readonly",!1);else{r.pageWidthEditor.prop("readonly",!0),r.pageHeightEditor.prop("readonly",!0);var t=r.paperSizeList[e];r.pageWidthEditor.val(t.width),r.pageHeightEditor.val(t.height),r.paper.width=(0,a.mmToPoint)(t.width),r.paper.height=(0,a.mmToPoint)(t.height)}r.paper.paperType=e}));var i=$('<div class="form-group" style="display: inline-block;margin-left: 6px"><span>'+window.i18n.pdfPrint.width+"</span></div>");e.append(i),this.pageWidthEditor=$('<input type="number" class="form-control" readonly style="display: inline-block;width: 40px;font-size: 12px;padding: 1px;height: 28px">'),i.append(this.pageWidthEditor),this.pageWidthEditor.change((function(){var e=$(this).val();e&&!isNaN(e)?(r.paper.width=(0,a.mmToPoint)(e),r.context.printLine.refresh()):(0,o.alert)(""+window.i18n.pdfPrint.numberTip)}));var n=$('<div class="form-group" style="display: inline-block;margin-left: 6px"><span>'+window.i18n.pdfPrint.height+"</span></div>");e.append(n),this.pageHeightEditor=$('<input type="number" class="form-control" readonly style="display: inline-block;width: 40px;font-size: 12px;padding: 1px;height: 28px">'),n.append(this.pageHeightEditor),this.pageHeightEditor.change((function(){var e=$(this).val();e&&!isNaN(e)?r.paper.height=(0,a.mmToPoint)(e):(0,o.alert)(""+window.i18n.pdfPrint.numberTip)}));var d=$('<div class="form-group" style="display: inline-block;margin-left: 6px"><label>'+window.i18n.pdfPrint.orientation+"</label></div>");e.append(d),this.orientationSelect=$('<select class="form-control" style="display:inline-block;width: 60px;font-size: 12px;padding: 1px;height: 28px">\n            <option value="portrait">'+window.i18n.pdfPrint.portrait+'</option>\n            <option value="landscape">'+window.i18n.pdfPrint.landscape+"</option>\n        </select>"),d.append(this.orientationSelect),this.orientationSelect.change((function(){var e=$(this).val();r.paper.orientation=e}));var l=$('<div style="display: inline-block"></div>');e.append(l);var p=$('<div class="form-group" style="display: inline-block;margin-left:6px"><label>'+window.i18n.pdfPrint.leftMargin+"</label></div>");l.append(p),this.leftMarginEditor=$('<input type="number" class="form-control" style="display: inline-block;width: 40px;font-size: 12px;padding: 1px;height: 28px">'),p.append(this.leftMarginEditor),this.leftMarginEditor.change((function(){var e=$(this).val();e&&!isNaN(e)?(r.paper.leftMargin=(0,a.mmToPoint)(e),r.context.printLine.refresh()):(0,o.alert)(""+window.i18n.pdfPrint.numberTip)}));var c=$('<div class="form-group" style="display: inline-block;margin-top: 5px;margin-left: 6px""><label>'+window.i18n.pdfPrint.rightMargin+"</label></div>");l.append(c),this.rightMarginEditor=$('<input type="number" class="form-control" style="display: inline-block;width: 40px;font-size: 12px;padding: 1px;height: 28px">'),c.append(this.rightMarginEditor),this.rightMarginEditor.change((function(){var e=$(this).val();e&&!isNaN(e)?(r.paper.rightMargin=(0,a.mmToPoint)(e),r.context.printLine.refresh()):(0,o.alert)(""+window.i18n.pdfPrint.numberTip)}));var s=$('<div class="form-group" style="display: inline-block;margin-left: 6px;"><label>'+window.i18n.pdfPrint.topMargin+"</label></div>");l.append(s),this.topMarginEditor=$('<input type="number" class="form-control" style="display: inline-block;width: 40px;font-size: 12px;padding: 1px;height: 28px">'),s.append(this.topMarginEditor),this.topMarginEditor.change((function(){var e=$(this).val();e&&!isNaN(e)?r.paper.topMargin=(0,a.mmToPoint)(e):(0,o.alert)(""+window.i18n.pdfPrint.numberTip)}));var u=$('<div class="form-group" style="display: inline-block;margin-left: 6px""><label>'+window.i18n.pdfPrint.bottomMargin+"</label></div>");l.append(u),this.bottomMarginEditor=$('<input type="number" class="form-control" style="display: inline-block;width: 40px;font-size: 12px;padding: 1px;height: 28px">'),u.append(this.bottomMarginEditor),this.bottomMarginEditor.change((function(){var e=$(this).val();e&&!isNaN(e)?r.paper.bottomMargin=(0,a.mmToPoint)(e):(0,o.alert)(""+window.i18n.pdfPrint.numberTip)}));(0,a.getParameter)("_u");var f=window.location.search,h=$('<button class="btn btn-primary" style="padding-top:5px;height: 30px;margin-left: 10px;">'+window.i18n.pdfPrint.apply+"</button>");e.append(h);var m=0;h.click((function(){(0,a.showLoading)();var e=JSON.stringify(r.paper);$.ajax({type:"POST",data:{_paper:e},url:window._server+"/pdf/newPaging"+f,success:function(){var e=window._server+"/pdf/show"+f+"&_r="+m++;r.iFrame.prop("src",e)},error:function(){(0,a.hideLoading)(),(0,o.alert)(""+window.i18n.pdfPrint.fail)}})}));var v=$('<button class="btn btn-danger" style="padding-top:5px;height: 30px;margin-left: 10px;">'+window.i18n.pdfPrint.print+"</button>");e.append(v),v.click((function(){window.frames._iframe_for_pdf_print.window.print()}))}},{key:"initIFrame",value:function(){if(!this.iFrame){var e=buildLocationSearchParameters(),t=$(window).height(),r=window._server+"/pdf/show"+e+"&_p=1";this.iFrame=$('<iframe name="_iframe_for_pdf_print" style="width: 100%;height:'+t+'px;margin-top: 5px;border:solid 1px #c2c2c2" frameborder="0" src="'+r+'"></iframe>'),this.body.append(this.iFrame);this.iFrame.get(0);var i=window.navigator.appName.indexOf("Internet Explorer"),o=!!window.MSInputMethodContext&&!!document.documentMode;-1!==i||o||(0,a.showLoading)(),this.iFrame.on("load",(function(){(0,a.hideLoading)()}))}}},{key:"show",value:function(e){this.paper=e,this.pageSelect.val(this.paper.paperType),this.pageWidthEditor.val((0,a.pointToMM)(this.paper.width)),this.pageHeightEditor.val((0,a.pointToMM)(this.paper.height)),this.pageSelect.trigger("change"),this.leftMarginEditor.val((0,a.pointToMM)(this.paper.leftMargin)),this.rightMarginEditor.val((0,a.pointToMM)(this.paper.rightMargin)),this.topMarginEditor.val((0,a.pointToMM)(this.paper.topMargin)),this.bottomMarginEditor.val((0,a.pointToMM)(this.paper.bottomMargin)),this.orientationSelect.val(this.paper.orientation),this.dialog.modal("show"),this.initIFrame()}}]),e}();t.default=n},660:function(e){e.exports=JSON.parse('{"pdfPrint":{"title":"PDF在线打印","setup":"打印配置","paper":"纸张:","custom":"自定义","width":"宽(毫米):","numberTip":"请输入数字！","height":"高(毫米):","orientation":"方向:","portrait":"纵向","landscape":"横向","leftMargin":"左边距(毫米):","rightMargin":"右边距(毫米):","topMargin":"上边距(毫米):","bottomMargin":"下边距(毫米):","apply":"应用","fail":"操作失败！","print":"打印"}}')},661:function(e){e.exports=JSON.parse('{"pdfPrint":{"title":"pdf online print","setup":"Print Setup","paper":"Paper:","custom":"Custom","width":"Width(mm):","numberTip":"Please input a number","height":"Height(mm):","orientation":"Orientation:","portrait":"Portrait","landscape":"Landscape","leftMargin":"Left Margin(mm):","rightMargin":"Right Margin(mm):","topMargin":"Top Margin(mm):","bottomMargin":"Bottom Margin(mm):","apply":"Apply","fail":"Apply fail!","print":"Print"}}')},69:function(e,t,r){var i=r(70);"string"==typeof i&&(i=[[e.i,i,""]]);r(9)(i,{});i.locals&&(e.exports=i.locals)},70:function(e,t,r){(e.exports=r(8)(!1)).push([e.i,'/*!\r\n * Datetimepicker for Bootstrap\r\n *\r\n * Copyright 2012 Stefan Petre\r\n * Improvements by Andrew Rowls\r\n * Licensed under the Apache License v2.0\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n */.datetimepicker{padding:4px;margin-top:1px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;direction:ltr}.datetimepicker-inline{width:220px}.datetimepicker.datetimepicker-rtl{direction:rtl}.datetimepicker.datetimepicker-rtl table tr td span{float:right}.datetimepicker-dropdown,.datetimepicker-dropdown-left{top:0;left:0}[class*=" datetimepicker-dropdown"]:before{content:"";display:inline-block;border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #ccc;border-bottom-color:rgba(0,0,0,.2);position:absolute}[class*=" datetimepicker-dropdown"]:after{content:"";display:inline-block;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #fff;position:absolute}[class*=" datetimepicker-dropdown-top"]:before{content:"";display:inline-block;border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #ccc;border-top-color:rgba(0,0,0,.2);border-bottom:0}[class*=" datetimepicker-dropdown-top"]:after{content:"";display:inline-block;border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid #fff;border-bottom:0}.datetimepicker-dropdown-bottom-left:before{top:-7px;right:6px}.datetimepicker-dropdown-bottom-left:after{top:-6px;right:7px}.datetimepicker-dropdown-bottom-right:before{top:-7px;left:6px}.datetimepicker-dropdown-bottom-right:after{top:-6px;left:7px}.datetimepicker-dropdown-top-left:before{bottom:-7px;right:6px}.datetimepicker-dropdown-top-left:after{bottom:-6px;right:7px}.datetimepicker-dropdown-top-right:before{bottom:-7px;left:6px}.datetimepicker-dropdown-top-right:after{bottom:-6px;left:7px}.datetimepicker>div{display:none}.datetimepicker.days div.datetimepicker-days,.datetimepicker.hours div.datetimepicker-hours,.datetimepicker.minutes div.datetimepicker-minutes,.datetimepicker.months div.datetimepicker-months,.datetimepicker.years div.datetimepicker-years{display:block}.datetimepicker table{margin:0}.datetimepicker td,.datetimepicker th{text-align:center;width:20px;height:20px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;border:none}.table-striped .datetimepicker table tr td,.table-striped .datetimepicker table tr th{background-color:transparent}.datetimepicker table tr td.day:hover,.datetimepicker table tr td.hour:hover,.datetimepicker table tr td.minute:hover{background:#eee;cursor:pointer}.datetimepicker table tr td.new,.datetimepicker table tr td.old{color:#999}.datetimepicker table tr td.disabled,.datetimepicker table tr td.disabled:hover{background:none;color:#999;cursor:default}.datetimepicker table tr td.today,.datetimepicker table tr td.today.disabled,.datetimepicker table tr td.today.disabled:hover,.datetimepicker table tr td.today:hover{background-color:#fde19a;background-image:-moz-linear-gradient(top,#fdd49a,#fdf59a);background-image:-ms-linear-gradient(top,#fdd49a,#fdf59a);background-image:-webkit-gradient(linear,0 0,0 100%,from(#fdd49a),to(#fdf59a));background-image:-webkit-linear-gradient(top,#fdd49a,#fdf59a);background-image:-o-linear-gradient(top,#fdd49a,#fdf59a);background-image:linear-gradient(180deg,#fdd49a,#fdf59a);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#fdd49a",endColorstr="#fdf59a",GradientType=0);border-color:#fdf59a #fdf59a #fbed50;border-color:rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25);filter:progid:DXImageTransform.Microsoft.gradient(enabled=false)}.datetimepicker table tr td.today.active,.datetimepicker table tr td.today.disabled,.datetimepicker table tr td.today.disabled.active,.datetimepicker table tr td.today.disabled.disabled,.datetimepicker table tr td.today.disabled:active,.datetimepicker table tr td.today.disabled:hover,.datetimepicker table tr td.today.disabled:hover.active,.datetimepicker table tr td.today.disabled:hover.disabled,.datetimepicker table tr td.today.disabled:hover:active,.datetimepicker table tr td.today.disabled:hover:hover,.datetimepicker table tr td.today.disabled:hover[disabled],.datetimepicker table tr td.today.disabled[disabled],.datetimepicker table tr td.today:active,.datetimepicker table tr td.today:hover,.datetimepicker table tr td.today:hover.active,.datetimepicker table tr td.today:hover.disabled,.datetimepicker table tr td.today:hover:active,.datetimepicker table tr td.today:hover:hover,.datetimepicker table tr td.today:hover[disabled],.datetimepicker table tr td.today[disabled]{background-color:#fdf59a}.datetimepicker table tr td.today.active,.datetimepicker table tr td.today.disabled.active,.datetimepicker table tr td.today.disabled:active,.datetimepicker table tr td.today.disabled:hover.active,.datetimepicker table tr td.today.disabled:hover:active,.datetimepicker table tr td.today:active,.datetimepicker table tr td.today:hover.active,.datetimepicker table tr td.today:hover:active{background-color:#fbf069}.datetimepicker table tr td.active,.datetimepicker table tr td.active.disabled,.datetimepicker table tr td.active.disabled:hover,.datetimepicker table tr td.active:hover{background-color:#006dcc;background-image:-moz-linear-gradient(top,#08c,#04c);background-image:-ms-linear-gradient(top,#08c,#04c);background-image:-webkit-gradient(linear,0 0,0 100%,from(#08c),to(#04c));background-image:-webkit-linear-gradient(top,#08c,#04c);background-image:-o-linear-gradient(top,#08c,#04c);background-image:linear-gradient(180deg,#08c,#04c);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#0088cc",endColorstr="#0044cc",GradientType=0);border-color:#04c #04c #002a80;border-color:rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25);filter:progid:DXImageTransform.Microsoft.gradient(enabled=false);color:#fff;text-shadow:0 -1px 0 rgba(0,0,0,.25)}.datetimepicker table tr td.active.active,.datetimepicker table tr td.active.disabled,.datetimepicker table tr td.active.disabled.active,.datetimepicker table tr td.active.disabled.disabled,.datetimepicker table tr td.active.disabled:active,.datetimepicker table tr td.active.disabled:hover,.datetimepicker table tr td.active.disabled:hover.active,.datetimepicker table tr td.active.disabled:hover.disabled,.datetimepicker table tr td.active.disabled:hover:active,.datetimepicker table tr td.active.disabled:hover:hover,.datetimepicker table tr td.active.disabled:hover[disabled],.datetimepicker table tr td.active.disabled[disabled],.datetimepicker table tr td.active:active,.datetimepicker table tr td.active:hover,.datetimepicker table tr td.active:hover.active,.datetimepicker table tr td.active:hover.disabled,.datetimepicker table tr td.active:hover:active,.datetimepicker table tr td.active:hover:hover,.datetimepicker table tr td.active:hover[disabled],.datetimepicker table tr td.active[disabled]{background-color:#04c}.datetimepicker table tr td.active.active,.datetimepicker table tr td.active.disabled.active,.datetimepicker table tr td.active.disabled:active,.datetimepicker table tr td.active.disabled:hover.active,.datetimepicker table tr td.active.disabled:hover:active,.datetimepicker table tr td.active:active,.datetimepicker table tr td.active:hover.active,.datetimepicker table tr td.active:hover:active{background-color:#039}.datetimepicker table tr td span{display:block;width:23%;height:54px;line-height:54px;float:left;margin:1%;cursor:pointer;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}.datetimepicker .datetimepicker-hours span{height:26px;line-height:26px}.datetimepicker .datetimepicker-hours table tr td span.hour_am,.datetimepicker .datetimepicker-hours table tr td span.hour_pm{width:14.6%}.datetimepicker .datetimepicker-hours fieldset legend,.datetimepicker .datetimepicker-minutes fieldset legend{margin-bottom:inherit;line-height:30px}.datetimepicker .datetimepicker-minutes span{height:26px;line-height:26px}.datetimepicker table tr td span:hover{background:#eee}.datetimepicker table tr td span.disabled,.datetimepicker table tr td span.disabled:hover{background:none;color:#999;cursor:default}.datetimepicker table tr td span.active,.datetimepicker table tr td span.active.disabled,.datetimepicker table tr td span.active.disabled:hover,.datetimepicker table tr td span.active:hover{background-color:#006dcc;background-image:-moz-linear-gradient(top,#08c,#04c);background-image:-ms-linear-gradient(top,#08c,#04c);background-image:-webkit-gradient(linear,0 0,0 100%,from(#08c),to(#04c));background-image:-webkit-linear-gradient(top,#08c,#04c);background-image:-o-linear-gradient(top,#08c,#04c);background-image:linear-gradient(180deg,#08c,#04c);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#0088cc",endColorstr="#0044cc",GradientType=0);border-color:#04c #04c #002a80;border-color:rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25);filter:progid:DXImageTransform.Microsoft.gradient(enabled=false);color:#fff;text-shadow:0 -1px 0 rgba(0,0,0,.25)}.datetimepicker table tr td span.active.active,.datetimepicker table tr td span.active.disabled,.datetimepicker table tr td span.active.disabled.active,.datetimepicker table tr td span.active.disabled.disabled,.datetimepicker table tr td span.active.disabled:active,.datetimepicker table tr td span.active.disabled:hover,.datetimepicker table tr td span.active.disabled:hover.active,.datetimepicker table tr td span.active.disabled:hover.disabled,.datetimepicker table tr td span.active.disabled:hover:active,.datetimepicker table tr td span.active.disabled:hover:hover,.datetimepicker table tr td span.active.disabled:hover[disabled],.datetimepicker table tr td span.active.disabled[disabled],.datetimepicker table tr td span.active:active,.datetimepicker table tr td span.active:hover,.datetimepicker table tr td span.active:hover.active,.datetimepicker table tr td span.active:hover.disabled,.datetimepicker table tr td span.active:hover:active,.datetimepicker table tr td span.active:hover:hover,.datetimepicker table tr td span.active:hover[disabled],.datetimepicker table tr td span.active[disabled]{background-color:#04c}.datetimepicker table tr td span.active.active,.datetimepicker table tr td span.active.disabled.active,.datetimepicker table tr td span.active.disabled:active,.datetimepicker table tr td span.active.disabled:hover.active,.datetimepicker table tr td span.active.disabled:hover:active,.datetimepicker table tr td span.active:active,.datetimepicker table tr td span.active:hover.active,.datetimepicker table tr td span.active:hover:active{background-color:#039}.datetimepicker table tr td span.old{color:#999}.datetimepicker th.switch{width:145px}.datetimepicker th span.glyphicon{pointer-events:none}.datetimepicker tfoot th,.datetimepicker thead tr:first-child th{cursor:pointer}.datetimepicker tfoot th:hover,.datetimepicker thead tr:first-child th:hover{background:#eee}.input-append.date .add-on i,.input-group.date .input-group-addon span,.input-prepend.date .add-on i{cursor:pointer;width:14px;height:14px}',""])},8:function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=function(e,t){var r=e[1]||"",i=e[3];if(!i)return r;if(t&&"function"==typeof btoa){var a=(n=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),o=i.sources.map((function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"}));return[r].concat(o).concat([a]).join("\n")}var n;return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r})).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},a=0;a<this.length;a++){var o=this[a][0];"number"==typeof o&&(i[o]=!0)}for(a=0;a<e.length;a++){var n=e[a];"number"==typeof n[0]&&i[n[0]]||(r&&!n[2]?n[2]=r:r&&(n[2]="("+n[2]+") and ("+r+")"),t.push(n))}},t}},9:function(e,t){var r={},i=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},a=i((function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())})),o=i((function(){return document.head||document.getElementsByTagName("head")[0]})),n=null,d=0,l=[];function p(e,t){for(var i=0;i<e.length;i++){var a=e[i],o=r[a.id];if(o){o.refs++;for(var n=0;n<o.parts.length;n++)o.parts[n](a.parts[n]);for(;n<a.parts.length;n++)o.parts.push(h(a.parts[n],t))}else{var d=[];for(n=0;n<a.parts.length;n++)d.push(h(a.parts[n],t));r[a.id]={id:a.id,refs:1,parts:d}}}}function c(e){for(var t=[],r={},i=0;i<e.length;i++){var a=e[i],o=a[0],n={css:a[1],media:a[2],sourceMap:a[3]};r[o]?r[o].parts.push(n):t.push(r[o]={id:o,parts:[n]})}return t}function s(e,t){var r=o(),i=l[l.length-1];if("top"===e.insertAt)i?i.nextSibling?r.insertBefore(t,i.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),l.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(t)}}function u(e){e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function f(e){var t=document.createElement("style");return t.type="text/css",s(e,t),t}function h(e,t){var r,i,a;if(t.singleton){var o=d++;r=n||(n=f(t)),i=g.bind(null,r,o,!1),a=g.bind(null,r,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(e){var t=document.createElement("link");return t.rel="stylesheet",s(e,t),t}(t),i=y.bind(null,r),a=function(){u(r),r.href&&URL.revokeObjectURL(r.href)}):(r=f(t),i=b.bind(null,r),a=function(){u(r)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else a()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");void 0===(t=t||{}).singleton&&(t.singleton=a()),void 0===t.insertAt&&(t.insertAt="bottom");var i=c(e);return p(i,t),function(e){for(var a=[],o=0;o<i.length;o++){var n=i[o];(d=r[n.id]).refs--,a.push(d)}e&&p(c(e),t);for(o=0;o<a.length;o++){var d;if(0===(d=a[o]).refs){for(var l=0;l<d.parts.length;l++)d.parts[l]();delete r[d.id]}}}};var m,v=(m=[],function(e,t){return m[e]=t,m.filter(Boolean).join("\n")});function g(e,t,r,i){var a=r?"":i.css;if(e.styleSheet)e.styleSheet.cssText=v(t,a);else{var o=document.createTextNode(a),n=e.childNodes;n[t]&&e.removeChild(n[t]),n.length?e.insertBefore(o,n[t]):e.appendChild(o)}}function b(e,t){var r=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function y(e,t){var r=t.css,i=t.sourceMap;i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(a),o&&URL.revokeObjectURL(o)}}});